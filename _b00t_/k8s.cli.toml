[b00t]
name = "k0s"
type = "cli"
desires = "1.31.0"
auto_install = false
requires_sudo = true
aliases = ["k8s", "kubernetes"]
update = "b00t ansible run k0s"
hint = "k0s - Zero friction Kubernetes distribution. Lightweight, certified Kubernetes that works on any infrastructure. We prefer k0s for its simplicity and low resource footprint."
lfmf_category = "k0s"

[b00t.learn]
topic = "k0s"
auto_digest = false

[[b00t.usage]]
description = "Check k0s version"
command = "k0s version"

[[b00t.usage]]
description = "Install k0s as controller (single node)"
command = "sudo k0s install controller --single"

[[b00t.usage]]
description = "Install k0s as controller with worker (multi-node)"
command = "sudo k0s install controller --enable-worker --no-taints"

[[b00t.usage]]
description = "Start k0s service"
command = "sudo k0s start"

[[b00t.usage]]
description = "Check k0s status"
command = "sudo k0s status"

[[b00t.usage]]
description = "Get kubeconfig"
command = "sudo k0s kubeconfig admin"

[[b00t.usage]]
description = "Stop k0s service"
command = "sudo k0s stop"

[[b00t.usage]]
description = "Use k8s command (aliased to k0s)"
command = "k8s version  # Same as k0s version"

[b00t.ansible]
playbook = "ansible/playbooks/install-k0s.yaml"
