[b00t]
name = "k9s"
type = "cli"
hint = "Terminal UI for k8s cluster management. Makes kubectl operations visual and fast."
desires = "0.32.0"

install = '''
if command -v pkgx >/dev/null 2>&1; then
    # ðŸ¤“ pkgx syntax: use env instead of install
    mkdir -p ~/.local/bin
    cat > ~/.local/bin/k9s << 'EOF'
#!/bin/bash
exec pkgx k9s@0.32 "$@"
EOF
    chmod +x ~/.local/bin/k9s
elif command -v brew >/dev/null 2>&1; then
    brew install derailed/k9s/k9s
else
    # Install via webinstall.dev
    curl -sS https://webinstall.dev/k9s | bash
fi
'''

version = "k9s version --short"
version_regex = 'v(\d+\.\d+\.\d+)'

[[b00t.usage]]
description = "Launch k9s terminal UI"
command = "k9s"

[[b00t.usage]]
description = "Launch k9s in read-only mode"
command = "k9s --readonly"

[[b00t.usage]]
description = "Launch k9s in specific namespace"
command = "k9s -n default"
